<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Editar un tratamiento</title>
        <h:outputStylesheet library="css" name="bootstrap.min.css" />  
    </h:head>
    <h:body>
        <h:panelGrid class="page-header">
            <ui:include src="../includes/header.xhtml"/>    
        </h:panelGrid>
        <h:panelGrid class="container"> 
        <f:view>
            <h:form>
                <h:inputHidden value ="#{tratamientoBean.tratamientoActual.id}"/>
                <h1><h:outputText value="Editar un tratamiento"/></h1>
                   <h:panelGrid columns="2" width="500px">
                  
                   <h:outputLabel value="Médico:" for="idMedico" />
                    <h:selectOneMenu id="idMedico" class="form-control" value="#{tratamientoBean.idMedico}" title="IdMedico" required="true" requiredMessage="El campo médico es obligatorio.">
                       <f:selectItems value="#{tratamientoBean.listaMedicos}"  var="m" itemLabel="#{m.idUsuario.nombre.concat(' ').concat(m.idUsuario.apellidos)}" itemValue="#{m.id}" />
                    </h:selectOneMenu>
                    
                    <h:outputLabel value=""/><h:outputLabel value=""/>
                    
                    <h:outputLabel value="Usuario:" for="idUsuario" />
                    <h:selectOneMenu id="idUsuario" class="form-control" value="#{tratamientoBean.idPaciente}" title="IdUsuario" required="true" requiredMessage="El campo usuario es obligatorio.">
                       <f:selectItems value="#{tratamientoBean.listaUsuarios}" var="u" itemLabel="#{u.nombre.concat(' ').concat(u.apellidos)}" itemValue="#{u.id}"/>
                    </h:selectOneMenu>
                    
                    <h:outputLabel value=""/><h:outputLabel value=""/>
                                       
                    <h:outputLabel value="Fecha de Inicio:" for="fechaInicio" />
                    <h:inputText id="fechaInicio" class="form-control" value="#{tratamientoBean.tratamientoActual.fechaInicio}" title="FechaInicio" required="true" requiredMessage="El campo fecha es obligatorio.">
                        <f:convertDateTime pattern="MM/dd/yyyy" />
                    </h:inputText>
                    
                    <h:outputLabel value=""/><h:outputLabel value=""/>
                    
                    <h:outputLabel value="Duración:" for="duracion" />
                    <h:inputText id="duracion" class="form-control" value="#{tratamientoBean.tratamientoActual.duracion}" title="Duracion" required="true" requiredMessage="El campo duración es obligatorio."/>
                    
                     <h:outputLabel value=""/><h:outputLabel value=""/>
                    
                    <h:outputLabel value="Descripción:" for="descripcion" />
                    <h:inputTextarea rows="4" cols="30" id="descripcion" class="form-control" value="#{tratamientoBean.tratamientoActual.descripcion}" title="Descripcion" required="true" requiredMessage="El campo descripción es obligatorio."/>
                    
                    <h:outputLabel value=""/><h:outputLabel value=""/>
                    
                    <h:commandButton value="Guardar Cambios" class="btn btn-success" action="#{tratamientoBean.editarTratamiento()}"/>
                    <a href="listarTratamientos.jsf"  class="btn btn-danger" > <span class="glyphicon glyphicon-remove"></span> Cancelar</a>
                </h:panelGrid>
            </h:form>            
        </f:view>
        </h:panelGrid>
    </h:body>
</html>

